---
up:
  - "[[Optimizing DAX 优化DAX(book)]]"
created: 2025-02-06
type: "[[Chapter]]"
ch: "16"
finished: 
aliases:
---
**权限需要从一开始就进行设计，并在解决方案开发的早期阶段就融入其中。**
**1理解何时以及如何执行权限规则，以及2如何测试权限能以确保对整体模型性能产生最小影响，是至关重要的**。



# 1 测试权限条件的方式



![image.png](https://s1.vika.cn/space/2025/02/06/1e215859c9f64d51906aa285efcb68b5)

![image.png](https://s1.vika.cn/space/2025/02/06/afbe3ba16ac3491baa498a8a5a75ddc4)


# 理解行级权限生效 的 环节和方式

[[DAX优化-Case-行级权限如何影响查询]]


# 理解 缓存位图索引 和 嵌入式过滤器


- **开发人员应尽量使用位图索引来实现权限功能**
- 什么情况下可以开启位图索引
    - 复杂过滤（只有=被认为是简单过滤）
    - 过滤表行数不超过 **128K**


[[DAX优化-Case-区分什么时候权限控制会触发位图索引]]



# 优化动态权限


> [!important]
> 两种权限设计方案
> - 对 Customer 应用筛选：找到权限范围，使用 IN 函数，应用在 Customer 上  
>	- 问题是会产生一个回掉，同时回掉结果还不能重复使用
>- 构建 Customer - UserContinents 多对多关系


[[DAX优化-Case-两种行级权限控制方案（动态）]]